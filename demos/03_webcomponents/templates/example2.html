<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Test</title>
	<style>

		.my-button {
			display: block;
			border: 0;
			cursor: pointer;
			background-color: #eaeff2;
			text-transform: uppercase;
			border-radius: 4px;
			box-shadow: inset 0 -3px #bbbfc2;
			color: #4d4e53;
			line-height: 35px;
			height: 35px;
			padding: 0 20px;
			outline: none;
		}

		.my-button img {
			vertical-align: middle;
			margin-right: 5px;
		}

		#buttons {
			padding: 10px 0;
		}

	</style>
</head>
<body>
	<template id="myButtonTemplate">
		<script>console.log('hurray! new button is born');</script>
		<button class="my-button">
			<img src="v.png" alt="">
			<span>default text</span>
		</button>
	</template>
	<p>Image: <input type="radio" name="rbnImg" value="rbnImgV" checked> v-style <input type="radio" name="rbnImg" value="rbnImgX"> x-style </p>
	<p>Text: <input type="text" name="txt" value="" placeholder="button text"></p>
	<p>Text color: <input type="color" name="rbnImg" value="#000000"></p>
	<input type="button" value="generate button" id="btnGenerate">
	<div id="buttons"></div>
	<script>
		'use strict'

		let template = document.querySelector('#myButtonTemplate');
		document.querySelector('#btnGenerate').addEventListener('click', () => {
		  // shortcuts
		  var content = template.content;
		  var inpTxt = document.querySelector('input[name=txt]');
		  var inpColor = document.querySelector('input[type=color]');
		  var chbX = document.querySelector('input[value=rbnImgX]');

		  // customize template content
		  if (inpTxt.value) content.querySelector('span').innerHTML = inpTxt.value;
		  content.querySelector('span').style.color = inpColor.value;
		  content.querySelector('img').src = chbX.checked ? 'x.png' : 'v.png';

		  // add to DOM
		  document.querySelector('#buttons').appendChild(
		    document.importNode(content, true)
		  );
		});

	</script>
</body>
</html>
